temp={u'agent_bus_58_installed': 11886, u'agent_bus_zhuanzhuan_installed': 1, 'bus_type': {u'zhuanzhuan': 2, 'other': -1, u'anjuke': 1, u'58': 0}, u'agent_env_sandbox_installed': 744, u'agent_env_online_uninstalled_race': '20.20%', u'agent_env_online_died_race': '5.96%', u'agent_env_test_all': 2958, 'agent_bus_other_died_race': '0.04%', u'agent_env_sandbox_uninstalled': 1104, u'agent_bus_anjuke_died_race': '2.85%', u'agent_env_sandbox_died': 16, u'agent_bus_anjuke_uninstalled': 44, u'agent_bus_zhuanzhuan_all': 136, 'renders_env': {}, u'agent_bus_58_died_race': '5.80%', 'env_type': [u'online', u'stable', u'sandbox', u'test'], u'agent_env_stable_uninstalled': 104, u'agent_env_stable_died': 0, u'agent_env_test_installed_race': '37.32%', u'agent_bus_58_installed_race': '71.80%', 'agent_bus_other_died': 1, 'CATEGORY': ['_env_', '_bus_'], u'agent_env_stable_all': 180, u'agent_bus_58_died': 960, 'version': [[['uninstalled', 6485, '43233.33%'], [u'DEAD', 998, '6653.33%'], [u'86', 3, '20.00%']], [[u'84', 47, '313.33%'], [u'83', 2, '13.33%'], [u'82', 3025, '20166.67%']], [[u'80', 201, '1340.00%'], [u'79', 4084, '27226.67%'], [u'78', 5, '33.33%']], [[u'77', 4617, '30780.00%'], [u'74', 514, '3426.67%'], [u'73', 533, '3553.33%']], [[u'72', 3, '20.00%'], [u'71', 239, '1593.33%'], [u'70', 22, '146.67%']]], u'agent_env_sandbox_died_race': '0.86%', u'agent_env_online_died': 902, u'agent_env_stable_installed': 76, u'agent_bus_anjuke_installed': 1216, u'agent_bus_zhuanzhuan_died': 0, u'agent_env_sandbox_uninstalled_race': '59.23%', u'agent_bus_zhuanzhuan_died_race': '0.00%', 'agent_bus_other_installed_race': '6.88%', u'agent_env_online_uninstalled': 3058, u'agent_env_online_installed_race': '73.84%', 'agent_bus_other_uninstalled': 2598, u'agent_env_test_uninstalled': 1775, 'agent_bus_other_uninstalled_race': '93.08%', 'FLAG': ['_installed', '_uninstalled', '_died'], u'agent_bus_58_uninstalled': 3708, u'agent_env_test_died_race': '2.67%', u'agent_env_stable_uninstalled_race': '57.78%', u'agent_bus_zhuanzhuan_uninstalled': 135, u'agent_env_stable_died_race': '0.00%', u'agent_env_sandbox_installed_race': '39.91%', u'agent_bus_zhuanzhuan_uninstalled_race': '99.26%', u'agent_env_online_all': 15139, u'agent_env_test_uninstalled_race': '60.01%', u'agent_bus_anjuke_uninstalled_race': '3.39%', u'agent_bus_anjuke_all': 1297, u'agent_env_test_installed': 1104, u'agent_bus_anjuke_died': 37, u'agent_env_stable_installed_race': '42.22%', 'agent_bus_other_all': 2791, 'agent_bus_other_installed': 192, u'agent_env_test_died': 79, u'agent_bus_anjuke_installed_race': '93.75%', u'agent_env_online_installed': 11179, u'agent_bus_58_uninstalled_race': '22.40%', u'agent_bus_58_all': 16554, u'agent_bus_zhuanzhuan_installed_race': '0.74%', u'agent_env_sandbox_all': 1864}
env_type = ["online","stable","sandbox","test"]
for key in temp.keys():
    for item in env_type:
        if str(item) in str(key):
            if item not in temp['renders_env'].keys():
                temp['renders_env'][item] = {}
            if len(key.split('_')) == 4:
                temp['renders_env'][item][key.split('_')[3]] = temp[key]
            elif len(key.split('_')) == 5:
                temp['renders_env'][item][key.split('_')[3]+'_race'] = temp[key]
print(temp['renders_env'])
# print(temp[u'agent_env_sandbox_installed_race'])